angular.module("selander.li", [
    'ngRoute',
    'ngAnimate',
    'selander.li.app.controller',
    'selander.li.shared.navbar.component',
    'selander.li.components.home.controller',
    'selander.li.components.skills.controller',
    'selander.li.components.experience.controller'
], function () {
})
    .config(function ($routeProvider, $locationProvider, $compileProvider) {
    $compileProvider.debugInfoEnabled = false;
    $locationProvider.html5Mode(true);
    $routeProvider
        .when('/skills', {
        templateUrl: 'app/components/skills/skills.tpl.html',
        controller: 'skillsController',
        controllerAs: 'vm'
    })
        .when('/experience', {
        templateUrl: 'app/components/experience/experience.tpl.html',
        controller: 'experienceController'
    })
        .when('/', {
        templateUrl: 'app/components/home/home.tpl.html',
        controller: 'homeController'
    })
        .otherwise({
        redirectTo: '/'
    });
})
    .run(function run($rootScope) {
});

angular.module('selander.li.app.controller', [
    'selander.li.app.service',
])
    .controller("appController", function (appService, $scope) {
    var vm = this;
    vm.meta = appService.meta;
});



angular.module('selander.li.app.service', [])
    .factory('appService', function () {
    return {
        meta: {
            location: 'home'
        }
    };
});

angular.module('selander.li.components.experience.controller', [
    'selander.li.app.service'
])
    .controller("experienceController", function (appService, $scope) {
    var vm = this;
    appService.meta.location = 'experience';
});

angular.module('selander.li.components.home.controller', [
    'selander.li.app.service'
])
    .controller("homeController", function (appService, $scope) {
    var vm = this;
    appService.meta.location = 'home';
});

angular.module('selander.li.components.skills.controller', [
    'selander.li.app.service',
    'angular-scroll-animate',
    'angular-parallax',
    'countTo'
])
    .controller("skillsController", function (appService, $scope, $sce, $timeout) {
    var vm = this;
    appService.meta.location = 'skills';
    $scope.releaseAnimation = function (element, scope) {
        var resource = scope.$parent.resource;
        if (!resource.showFlow) {
            resource.countTo = resource.percentage;
            resource.showFlow = true;
            $scope.$apply();
        }
    };
    vm.sections = [
        {
            title: 'Collaboration & Enviroment',
            content: $sce.trustAsHtml([
                "<h3>Fundamental</h3>",
                "<p>Good collaboration creates success. Following standards and working togheter is key. Being consistent in a team avoids confusion when working togheter.<br>",
                "<strong>Git</strong> <small>(Code | Version management)</small> and <strong>Docker</strong> <small>(Enviroment management)</small> are great tools in team development.",
                "</p>",
                "<p>Somebody once said, if you do something more than 10 times. Automate it. You should, automating takes almost no time using <strong>Gulp</strong> or <strong>Grunt</strong></p>"
            ].join('')),
            resources: [
                {
                    title: 'git',
                    image: 'git.png',
                    percentage: 100,
                    countFrom: 0,
                    countTo: 0,
                    showFlow: false
                },
                {
                    title: 'docker',
                    image: 'docker.png',
                    percentage: 85,
                    countFrom: 0,
                    countTo: 0,
                    showFlow: false
                },
                {
                    title: 'docker',
                    image: 'gulp-and-grunt.png',
                    percentage: 85,
                    countFrom: 0,
                    countTo: 0,
                    showFlow: false
                }
            ]
        },
        {
            title: 'Back-end',
            content: $sce.trustAsHtml(["<h3>PHP Lover, no fanboy</h3>",
                "<p><strong>PHP</strong> is surely a favorite. It's still evolving and becoming something better. It's great for small applications but also have shown to be really stable and scalable aswell. Like <strong>Hungrig.se's</strong> backend for example.</p>",
                "<p><strong>Node.js</strong> is a strong competetor today. Building desktop applications have gotten easy using <strong>Electron</strong>. Setting up development tasks is a breath, Node.js could easily scale with the help of <strong>TypeScript</strong>.</p>"].join('')),
            resources: [
                {
                    title: 'php',
                    image: 'php.png',
                    percentage: 100,
                    countFrom: 0,
                    countTo: 0,
                    showFlow: false
                },
                {
                    title: 'laravel',
                    image: 'laravel.png',
                    percentage: 90,
                    countFrom: 0,
                    countTo: 0,
                    showFlow: false
                },
                {
                    title: 'nodejs',
                    image: 'nodejs.png',
                    percentage: 70,
                    countFrom: 0,
                    countTo: 0,
                    showFlow: false
                }
            ]
        },
        {
            title: 'Front-end',
            content: $sce.trustAsHtml(["<h3>Look & Feel</h3>",
                "<p>Javascript has taken off, especially in the webs front-end area. Writing applications with <strong>Angular</strong> is a breeze. Of all the frameworks like <strong>Vue.js</strong>, <strong>Backbone</strong>, <strong>Ember</strong> <strong>Angular</strong> fits my way of developing. With <strong>Angular2</strong> and <strong>TypeScript</strong> principles like <strong>SOLID</strong> are easier to follow. Which is great!</p>",
                "<p>Knowing a-lot of frameworks isn't everything. Being comfortable using tools like <strong>Photoshop</strong> & <strong>Sketch</strong> is necessary when working close to a designer.</p>"].join('')),
            resources: [
                {
                    title: 'angular',
                    image: 'angular.png',
                    percentage: 90,
                    countFrom: 0,
                    countTo: 0,
                    showFlow: false
                },
                {
                    title: 'jQuery',
                    image: 'jquery.png',
                    percentage: 100,
                    countFrom: 0,
                    countTo: 0,
                    showFlow: false
                },
                {
                    title: 'photoshop',
                    image: 'photoshop.png',
                    percentage: 75,
                    countFrom: 0,
                    countTo: 0,
                    showFlow: false
                }
            ]
        }
    ];
});

angular.module('selander.li.shared.navbar.component', [
    'selander.li.shared.navbar.controller'
])
    .component('navbar', {
    templateUrl: 'app/shared/navbar/navbar.tpl.html',
    controller: 'navbarController',
    controllerAs: 'navbar'
});

angular.module('selander.li.shared.navbar.controller', [
    'mgcrea.ngStrap.helpers.debounce',
    'mgcrea.ngStrap.helpers.dimensions',
    'mgcrea.ngStrap.affix',
    'duScroll'
])
    .controller('navbarController', function (appService, $scope, $document) {
    var vm = this;
    vm.meta = appService.meta;
    active();
    ////////
    function active() {
    }
    vm.scrollTop = function () {
        $document.scrollTopAnimated(0, 600).then(function () {
        });
    };
});


